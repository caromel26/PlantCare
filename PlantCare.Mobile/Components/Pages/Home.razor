@page "/"
@using PlantCare.Mobile.Models
@using PlantCare.Mobile.Services
@using System.ComponentModel.DataAnnotations
@using MudBlazor

@inject BusinessLogicService BusinessService
@inject ApiConnectionService<Reminder> ReminderService

<MudContainer MaxWidth="MaxWidth.Medium">
    <MudText Typo="Typo.h4" Class="mb-4">Welcome to Your Plant Management</MudText>
    <MudText Typo="Typo.body1">
        Manage your plants, care tasks, species, and tags all in one place.
    </MudText>

    <MudDivider Class="my-4" />

    <MudText Typo="Typo.h6" Class="mb-2">Your reminders:</MudText>

    @if (Reminders == null || Reminders.Count == 0)
    {
        <MudText>No reminders available.</MudText>
    }
    else
    {
        <MudList>
            @foreach (var reminder in Reminders)
            {
                <MudListItem>
                    <MudText Typo="Typo.subtitle1" Bold="true">@reminder.Name</MudText>
                    <MudText Typo="Typo.body2">@reminder.Description</MudText>
                </MudListItem>
            }
        </MudList>
    }
</MudContainer>

@code {
    List<Reminder> Reminders = new();

    protected override async Task OnInitializedAsync()
    {
        Reminders = await ReminderService.GetAllAsync("Reminders");
    }
}
